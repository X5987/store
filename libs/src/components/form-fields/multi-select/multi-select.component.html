<div [ngClass]="{'label-inside': labelPosition === 'inside'}" class="form-field-common">
  <mat-form-field [appearance]="appearance"
                  (click)="beforeOpen()"
                  class="select-custom-icon custom-select-style"
                  [class.icon-error]="control.errors && control.dirty"
                  bacErrorTooltip
                  [control]="control">
    <mat-label> {{label}} </mat-label>
    <mat-select [formControl]="control"
                [placeholder]="placeholder"
                [disabled]="readonly"
                color="primary" multiple>

      <mat-select-trigger [ngClass]="{'mat-select-trigger-padding': paddingPlaceHolder}"> {{ value }} </mat-select-trigger>

      <mat-checkbox class="mat-option revers-row"
                    [disableRipple]="true"
                    [indeterminate]="isIndeterminate()"
                    [checked]="isChecked()"
                    (click)="$event.stopPropagation()"
                    (change)="toggleAllSelection($event)">
        {{selectAllLabel}}
      </mat-checkbox>

      <mat-option class="revers-row" *ngFor="let option of options" [value]="option">
        <mat-icon [svgIcon]="option.code" *ngIf="hasIcon"></mat-icon>
        {{option?.libelle}}
      </mat-option>

    </mat-select>
    <mat-icon class="arrow" svgIcon="keyboard_arrow_down"></mat-icon>
    <mat-error *ngIf="control.hasError('required')">
      {{'ERROR_FIELD_REQUIRED' | translate}}
    </mat-error>
    <mat-hint *ngIf="control.hasError('required')">{{'ERROR_FIELD_REQUIRED' | translate}}</mat-hint>
  </mat-form-field>
</div>
